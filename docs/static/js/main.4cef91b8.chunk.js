(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{104:function(e,a,t){e.exports={App:"App_App__2KmrQ"}},122:function(e,a,t){},157:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),i=t(26),r=t.n(i),s=(t(122),t(17)),c=t(211),l=t(204),d=t(214),u=t(58),h=t.n(u),p=t(48),j=t(62),m=t(63),b=t(64),x=t.n(b),f=t(22),v="https://pokeapi.co/api/v2/pokemon",_=new(function(){function e(){Object(j.a)(this,e),this.currentPageNo=0,this.pageSize=10,this.data=null,this.isLoading=!1,this.selectedTag="",this.search="",this.error="",Object(f.d)(this)}return Object(m.a)(e,[{key:"changePageSize",value:function(e){this.pageSize=e,this.fetchData()}},{key:"changeTag",value:function(e){this.selectedTag=e,this.fetchData()}},{key:"applySearch",value:function(e){this.search=e,this.fetchData()}},{key:"isPrevPageAvailable",get:function(){return!(!this.data||!this.data.previous)}},{key:"prev",value:function(){this.isPrevPageAvailable&&(this.currentPageNo--,this.fetchData())}},{key:"isNextPageAvailable",get:function(){return!(!this.data||!this.data.next)}},{key:"next",value:function(){this.isNextPageAvailable&&(this.currentPageNo++,this.fetchData())}},{key:"startLoading",value:function(){this.isLoading=!0}},{key:"stopLoading",value:function(){this.isLoading=!1}},{key:"setData",value:function(e){this.data=e}},{key:"setError",value:function(e){this.error=e}},{key:"fetchData",value:function(){var e=this;this.startLoading();var a={limit:this.pageSize,offset:this.pageSize*this.currentPageNo},t=v;this.search?t="".concat(v,"/").concat(this.search):this.selectedTag&&(t="https://pokeapi.co/api/v2/type/"+this.selectedTag),x.a.get(t,{params:a}).then((function(a){var n=a.data;if(e.setError(""),e.search)if(n){var o={count:1,results:[{name:n.name,url:t}],next:"",previous:""};e.setData(o)}else n=null;else if(e.selectedTag){var i={count:n.pokemon.length,results:n.pokemon.map((function(e){return e.pokemon})),next:"",previous:""};e.setData(i)}else e.setData(n)})).catch((function(a){e.setData(null),e.search?e.setError("Can not find ".concat(e.search)):e.setError(a.message)})).finally((function(){return e.stopLoading()}))}}]),e}()),g=Object(n.createContext)(_),y=function(){return Object(n.useContext)(g)},O=t(2),k=Object(p.a)((function(){var e=y(),a=Object(n.useState)(""),t=Object(s.a)(a,2),o=t[0],i=t[1];return Object(O.jsxs)(c.a,{className:h.a.SearchBar,children:[Object(O.jsx)(l.a,{className:h.a.SearchBarInput,"data-testid":"search-input",label:"Search only works if you type full name",variant:"standard",value:o,onChange:function(e){return i(e.target.value)}}),Object(O.jsx)(d.a,{className:h.a.SearchBarButton,"data-testid":"search-btn",variant:"contained",onClick:function(){e.applySearch(o.toLowerCase())},children:"Search"}),Object(O.jsx)(d.a,{className:h.a.SearchBarButton,"data-testid":"search-btn",variant:"contained",onClick:function(){i(""),e.applySearch("")},children:"Clear"})]})})),P=t(104),C=t.n(P),N=t(209),S=t(217),T=t(216),B=t(205),L=t(206),A=t(200),M=t(203),z=t(83),D=t(59),I=t.n(D),w=t(199),E=t(32),Z=t.n(E),H=t(210),Q=t(215),R=t(107),F=t(202),J=t(195),W=t(198),q=t(38),K=t.n(q),V=function(e){var a=e.data,t=e.open,n=e.handleClose;return Object(O.jsx)(F.a,{className:K.a.PokemonModal,"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:n,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(O.jsx)(J.a,{in:t,children:Object(O.jsxs)(W.a,{className:K.a.ModalBox,children:[Object(O.jsx)(Q.a,{variant:"h6",component:"h2",className:K.a.name,children:a.name}),Object(O.jsxs)("div",{className:K.a.TypeContainer,children:["Type:",a.types.map((function(e){return Object(O.jsx)("span",{className:"".concat(K.a.type," ").concat(e.type.name),children:e.type.name},e.type.url)}))]}),Object(O.jsx)("div",{className:K.a.StateContainer,children:a.stats.map((function(e){return Object(O.jsxs)("div",{className:K.a.statText,children:[Object(O.jsx)("span",{className:K.a.statTitle,children:e.stat.name}),":",Object(O.jsx)("span",{className:K.a.statValue,children:e.base_stat})]},e.stat.url)}))})]})})})},X=function(e){var a=e.pokemon,t=e.style,o=Object(R.a)(a.url,x.a),i=o.data,r=o.error,l=Object(n.useState)(!1),u=Object(s.a)(l,2),h=u[0],p=u[1];if(r)return Object(O.jsx)("div",{className:Z.a.PokemonContainer,style:t,children:"Failed to load"});if(!i)return Object(O.jsx)("div",{className:Z.a.PokemonContainer,style:t,children:"Loading..."});var j=i.data;return Object(O.jsx)("div",{className:Z.a.PokemonContainer,style:t,children:Object(O.jsxs)(c.a,{className:Z.a.Pokemon,elevation:3,children:[Object(O.jsx)(H.a,{src:j.sprites.front_default,className:Z.a.PokeAvatar}),Object(O.jsx)(w.a,{className:Z.a.infoContainer,children:Object(O.jsxs)(w.a,{children:[Object(O.jsx)(Q.a,{className:Z.a.name,children:a.name}),Object(O.jsx)("div",{className:Z.a.TypeContainer,children:j.types.map((function(e){return Object(O.jsx)(Q.a,{className:"".concat(Z.a.type," ").concat(e.type.name),children:e.type.name},e.type.url)}))})]})}),Object(O.jsxs)(w.a,{className:Z.a.moreInfoContainer,children:[Object(O.jsx)(d.a,{className:Z.a.moreInfoBtn,onClick:function(){return p(!0)},children:"more"}),Object(O.jsx)(V,{data:j,open:h,handleClose:function(){return p(!1)}})]})]})})},Y=Object(p.a)((function(){var e,a,t=y(),n=(null===(e=t.data)||void 0===e?void 0:e.results.length)||0,o=(null===(a=t.data)||void 0===a?void 0:a.results)||[],i=t.data&&Object(O.jsx)(z.a,{children:function(e){var a=e.height,t=e.width;return Object(O.jsx)(z.b,{rowCount:n,height:a,rowHeight:function(e){e.index;return 140},rowRenderer:function(e){var a=e.index,t=e.key,n=e.style;return Object(O.jsx)(X,{style:n,pokemon:o[a]},t)},width:t})}});return Object(O.jsxs)(w.a,{className:I.a.Layout,children:[Object(O.jsxs)(w.a,{className:I.a.PaginationContainer,children:[Object(O.jsx)(T.a,{color:"primary",className:I.a.prev,"data-testid":"prev",disabled:!t.isPrevPageAvailable,onClick:function(){return t.prev()},children:"<"}),Object(O.jsx)(w.a,{children:Object(O.jsxs)(B.a,{variant:"filled",sx:{m:1,minWidth:90},children:[Object(O.jsx)(L.a,{id:"page-size-input",children:"Page Size"}),Object(O.jsxs)(A.a,{disabled:!!t.selectedTag,labelId:"page-size-input",id:"page-size-input-select",value:t.pageSize,onChange:function(e){return t.changePageSize(+e.target.value)},label:"Page Size",children:[Object(O.jsx)(M.a,{value:10,children:"10"}),Object(O.jsx)(M.a,{value:20,children:"20"}),Object(O.jsx)(M.a,{value:50,children:"50"})]})]})}),Object(O.jsx)(w.a,{children:Object(O.jsxs)(B.a,{variant:"filled",sx:{m:1,minWidth:90},children:[Object(O.jsx)(L.a,{id:"type-input",children:"Type"}),Object(O.jsx)(A.a,{labelId:"type-input",id:"type-input-select",value:t.selectedTag,onChange:function(e){return t.changeTag(e.target.value.toString())},label:"Type",children:G.map((function(e){return Object(O.jsxs)(M.a,{value:e||"",children:[" ",e||"--"," "]},e||"None")}))})]})}),Object(O.jsx)(T.a,{color:"primary",className:I.a.next,"data-testid":"next",disabled:!t.isNextPageAvailable,onClick:function(){return t.next()},children:">"})]}),i]})})),G=["","normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy","unknown","shadow"],U=Y,$=Object(p.a)((function(){var e=y();return Object(n.useEffect)((function(){e.fetchData()}),[]),Object(O.jsxs)("div",{className:C.a.App,"data-testid":"app",children:[Object(O.jsx)(N.a,{sx:{color:"#fff",zIndex:1},open:e.isLoading,children:Object(O.jsx)(S.a,{color:"inherit"})}),Object(O.jsx)(k,{}),e.error?e.error:Object(O.jsx)(U,{})]})}));r.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(g.Provider,{value:_,children:Object(O.jsx)($,{})})}),document.getElementById("root"))},32:function(e,a,t){e.exports={PokemonContainer:"Pokemon_PokemonContainer__xns89",Pokemon:"Pokemon_Pokemon__2eXpO",PokeAvatar:"Pokemon_PokeAvatar__28yo6",infoContainer:"Pokemon_infoContainer__1Nd_P",name:"Pokemon_name__3Y_b-",TypeContainer:"Pokemon_TypeContainer__2iv_d",type:"Pokemon_type__3D9bo",moreInfoContainer:"Pokemon_moreInfoContainer__1kvZ2",moreInfoBtn:"Pokemon_moreInfoBtn__hAoT5"}},38:function(e,a,t){e.exports={PokemonModal:"PokemonModal_PokemonModal__3q5e9",ModalBox:"PokemonModal_ModalBox__1ZosE",name:"PokemonModal_name__1vmyh",TypeContainer:"PokemonModal_TypeContainer__3ipux",type:"PokemonModal_type__22Q39",StateContainer:"PokemonModal_StateContainer__3-nr1",statText:"PokemonModal_statText__1o1PR",statTitle:"PokemonModal_statTitle__IzTH-"}},58:function(e,a,t){e.exports={SearchBar:"SearchBar_SearchBar__33v12",SearchBarInput:"SearchBar_SearchBarInput__3SZLQ",SearchBarButton:"SearchBar_SearchBarButton__4-8Fo"}},59:function(e,a,t){e.exports={Layout:"Layout_Layout__19P1R",PaginationContainer:"Layout_PaginationContainer__3o2xb",prev:"Layout_prev__2gZDa",next:"Layout_next__1SHdy"}}},[[157,1,2]]]);
//# sourceMappingURL=main.4cef91b8.chunk.js.map