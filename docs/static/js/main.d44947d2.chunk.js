(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{103:function(e,a,t){e.exports={App:"App_App__2KmrQ"}},122:function(e,a,t){},157:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(26),r=t.n(o),s=(t(122),t(17)),c=t(211),l=t(204),d=t(214),u=t(58),h=t.n(u),j=t(48),p=t(62),m=t(63),b=t(64),f=t.n(b),x=t(22),v="https://pokeapi.co/api/v2/pokemon",_=new(function(){function e(){Object(p.a)(this,e),this.currentPageNo=0,this.pageSize=10,this.data=null,this.isLoading=!1,this.selectedTag="",this.search="",this.error="",Object(x.d)(this)}return Object(m.a)(e,[{key:"changePageSize",value:function(e){this.pageSize=e,this.fetchData()}},{key:"changeTag",value:function(e){this.selectedTag=e,this.fetchData()}},{key:"applySearch",value:function(e){this.search=e,this.fetchData()}},{key:"isPrevPageAvailable",get:function(){return!(!this.data||!this.data.previous)}},{key:"prev",value:function(){this.isPrevPageAvailable&&(this.currentPageNo--,this.fetchData())}},{key:"isNextPageAvailable",get:function(){return!(!this.data||!this.data.next)}},{key:"next",value:function(){this.isNextPageAvailable&&(this.currentPageNo++,this.fetchData())}},{key:"startLoading",value:function(){this.isLoading=!0}},{key:"stopLoading",value:function(){this.isLoading=!1}},{key:"setData",value:function(e){this.data=e}},{key:"setError",value:function(e){this.error=e}},{key:"fetchData",value:function(){var e=this;this.startLoading();var a={limit:this.pageSize,offset:this.pageSize*this.currentPageNo},t=v;this.search?t="".concat(v,"/").concat(this.search):this.selectedTag&&(t="https://pokeapi.co/api/v2/type/"+this.selectedTag),f.a.get(t,{params:a}).then((function(a){var n=a.data;if(e.setError(""),e.search)if(n){var i={count:1,results:[{name:n.name,url:t}],next:"",previous:""};e.setData(i)}else n=null;else if(e.selectedTag){var o={count:n.pokemon.length,results:n.pokemon.map((function(e){return e.pokemon})),next:"",previous:""};e.setData(o)}else e.setData(n)})).catch((function(a){e.setData(null),e.search?e.setError("Can not find ".concat(e.search)):e.setError(a.message)})).finally((function(){return e.stopLoading()}))}}]),e}()),g=Object(n.createContext)(_),O=function(){return Object(n.useContext)(g)},k=t(2),y=Object(j.a)((function(){var e=O(),a=Object(n.useState)(""),t=Object(s.a)(a,2),i=t[0],o=t[1];return Object(k.jsxs)(c.a,{className:h.a.SearchBar,children:[Object(k.jsx)(l.a,{className:h.a.SearchBarInput,"data-testid":"search-input",label:"Search only works if you type full name",variant:"standard",value:i,onChange:function(e){return o(e.target.value)}}),Object(k.jsx)(d.a,{className:h.a.SearchBarButton,"data-testid":"search-btn",variant:"contained",onClick:function(){e.applySearch(i.toLowerCase())},children:"Search"}),Object(k.jsx)(d.a,{className:h.a.SearchBarButton,"data-testid":"search-btn",variant:"contained",onClick:function(){o(""),e.applySearch("")},children:"Clear"})]})})),P=t(103),C=t.n(P),N=t(209),S=t(216),T=t(205),B=t(206),L=t(200),A=t(203),M=t(83),z=t(59),I=t.n(z),w=t(199),D=t(32),E=t.n(D),Q=t(210),R=t(215),Z=t(106),F=t(202),H=t(195),J=t(198),W=t(38),q=t.n(W),K=function(e){var a=e.data,t=e.open,n=e.handleClose;return Object(k.jsx)(F.a,{className:q.a.PokemonModal,"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,onClose:n,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(k.jsx)(H.a,{in:t,children:Object(k.jsxs)(J.a,{className:q.a.ModalBox,children:[Object(k.jsx)(R.a,{variant:"h6",component:"h2",className:q.a.name,children:a.name}),Object(k.jsxs)("div",{className:q.a.TypeContainer,children:["Type:",a.types.map((function(e){return Object(k.jsx)("span",{className:"".concat(q.a.type," ").concat(e.type.name),children:e.type.name},e.type.url)}))]}),Object(k.jsx)("div",{className:q.a.StateContainer,children:a.stats.map((function(e){return Object(k.jsxs)("div",{className:q.a.statText,children:[Object(k.jsx)("span",{className:q.a.statTitle,children:e.stat.name}),":",Object(k.jsx)("span",{className:q.a.statValue,children:e.base_stat})]},e.stat.url)}))})]})})})},V=function(e){var a=e.pokemon,t=e.style,i=Object(Z.a)(a.url,f.a),o=i.data,r=i.error,l=Object(n.useState)(!1),u=Object(s.a)(l,2),h=u[0],j=u[1];if(r)return Object(k.jsx)("div",{className:E.a.PokemonContainer,style:t,children:"Failed to load"});if(!o)return Object(k.jsx)("div",{className:E.a.PokemonContainer,style:t,children:"Loading..."});var p=o.data;return Object(k.jsx)("div",{className:E.a.PokemonContainer,style:t,children:Object(k.jsxs)(c.a,{className:E.a.Pokemon,elevation:3,children:[Object(k.jsx)(Q.a,{src:p.sprites.front_default,className:E.a.PokeAvatar}),Object(k.jsx)(w.a,{className:E.a.infoContainer,children:Object(k.jsxs)(w.a,{children:[Object(k.jsx)(R.a,{className:E.a.name,children:a.name}),Object(k.jsx)("div",{className:E.a.TypeContainer,children:p.types.map((function(e){return Object(k.jsx)(R.a,{className:"".concat(E.a.type," ").concat(e.type.name),children:e.type.name},e.type.url)}))})]})}),Object(k.jsxs)(w.a,{className:E.a.moreInfoContainer,children:[Object(k.jsx)(d.a,{className:E.a.moreInfoBtn,onClick:function(){return j(!0)},children:"more"}),Object(k.jsx)(K,{data:p,open:h,handleClose:function(){return j(!1)}})]})]})})},X=Object(j.a)((function(){var e,a,t=O(),n=(null===(e=t.data)||void 0===e?void 0:e.results.length)||0,i=(null===(a=t.data)||void 0===a?void 0:a.results)||[],o=t.data&&Object(k.jsx)(M.a,{children:function(e){var a=e.height,t=e.width;return Object(k.jsx)(M.b,{rowCount:n,height:a,rowHeight:function(e){e.index;return 140},rowRenderer:function(e){var a=e.index,t=e.key,n=e.style;return Object(k.jsx)(V,{style:n,pokemon:i[a]},t)},width:t})}});return Object(k.jsxs)(w.a,{className:I.a.Layout,children:[Object(k.jsxs)(w.a,{className:I.a.PaginationContainer,children:[Object(k.jsx)(d.a,{variant:"contained",className:I.a.prev,"data-testid":"prev",disabled:!t.isPrevPageAvailable,onClick:function(){return t.prev()},children:"Prev"}),Object(k.jsx)(w.a,{children:Object(k.jsxs)(T.a,{variant:"filled",sx:{m:1,minWidth:120},children:[Object(k.jsx)(B.a,{id:"page-size-input",children:"Page Size"}),Object(k.jsxs)(L.a,{disabled:!!t.selectedTag,labelId:"page-size-input",id:"page-size-input-select",value:t.pageSize,onChange:function(e){return t.changePageSize(+e.target.value)},label:"Page Size",children:[Object(k.jsx)(A.a,{value:10,children:"10"}),Object(k.jsx)(A.a,{value:20,children:"20"}),Object(k.jsx)(A.a,{value:50,children:"50"})]})]})}),Object(k.jsx)(w.a,{children:Object(k.jsxs)(T.a,{variant:"filled",sx:{m:1,minWidth:120},children:[Object(k.jsx)(B.a,{id:"type-input",children:"Type"}),Object(k.jsx)(L.a,{labelId:"type-input",id:"type-input-select",value:t.selectedTag,onChange:function(e){return t.changeTag(e.target.value.toString())},label:"Type",children:Y.map((function(e){return Object(k.jsxs)(A.a,{value:e||"",children:[" ",e," "]},e||"0")}))})]})}),Object(k.jsx)(d.a,{variant:"contained",className:I.a.next,"data-testid":"next",disabled:!t.isNextPageAvailable,onClick:function(){return t.next()},children:"Next"})]}),o]})})),Y=["","normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy","unknown","shadow"],G=X,U=Object(j.a)((function(){var e=O();return Object(n.useEffect)((function(){e.fetchData()}),[]),Object(k.jsxs)("div",{className:C.a.App,"data-testid":"app",children:[Object(k.jsx)(N.a,{sx:{color:"#fff",zIndex:1},open:e.isLoading,children:Object(k.jsx)(S.a,{color:"inherit"})}),Object(k.jsx)(y,{}),e.error?e.error:Object(k.jsx)(G,{})]})}));r.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(g.Provider,{value:_,children:Object(k.jsx)(U,{})})}),document.getElementById("root"))},32:function(e,a,t){e.exports={PokemonContainer:"Pokemon_PokemonContainer__xns89",Pokemon:"Pokemon_Pokemon__2eXpO",PokeAvatar:"Pokemon_PokeAvatar__28yo6",infoContainer:"Pokemon_infoContainer__1Nd_P",name:"Pokemon_name__3Y_b-",TypeContainer:"Pokemon_TypeContainer__2iv_d",type:"Pokemon_type__3D9bo",moreInfoContainer:"Pokemon_moreInfoContainer__1kvZ2",moreInfoBtn:"Pokemon_moreInfoBtn__hAoT5"}},38:function(e,a,t){e.exports={PokemonModal:"PokemonModal_PokemonModal__3q5e9",ModalBox:"PokemonModal_ModalBox__1ZosE",name:"PokemonModal_name__1vmyh",TypeContainer:"PokemonModal_TypeContainer__3ipux",type:"PokemonModal_type__22Q39",StateContainer:"PokemonModal_StateContainer__3-nr1",statText:"PokemonModal_statText__1o1PR",statTitle:"PokemonModal_statTitle__IzTH-"}},58:function(e,a,t){e.exports={SearchBar:"SearchBar_SearchBar__33v12",SearchBarInput:"SearchBar_SearchBarInput__3SZLQ",SearchBarButton:"SearchBar_SearchBarButton__4-8Fo"}},59:function(e,a,t){e.exports={Layout:"Layout_Layout__19P1R",PaginationContainer:"Layout_PaginationContainer__3o2xb"}}},[[157,1,2]]]);
//# sourceMappingURL=main.d44947d2.chunk.js.map